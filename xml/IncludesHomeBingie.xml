<?xml version="1.0" encoding="utf-8"?>
<!-- BINGIE -->
<includes>
    <include name="HomeBingie">
        <!-- base BG
        <control type="image">
            <visible>!$EXP[IsPlayingRecognizedContent]</visible>
            <include>FullscreenDimensions</include>
            <texture background="true" colordiffuse="$VAR[BingiePanelColor]">colors/color_white.png</texture>
        </control>-->

        <control type="group" id="9000">
            <!-- animation for seamless transition to dialog info -->
            <include>Hide_Window_Anim</include>

            <!-- background image -->
            <control type="image">
                <include>Dim_On_Menu_Animation</include>
                <visible>!Player.HasVideo + $EXP[IsCurrentWidgetSpotlight] + !Control.IsVisible(56399)</visible>
                <fadetime>350</fadetime>
                <texture background="true">$INFO[Control.GetLabel(99004)]</texture>
                <aspectratio aligny="top">scale</aspectratio>
                <animation effect="zoom" start="110" end="130" center="auto" time="12000" tween="cubic" easing="inout" pulse="true" condition="Skin.HasSetting(BackgroundAnimation)">Conditional</animation>
                <animation effect="slide" start="-10,-10" end="10,10" time="8000" tween="cubic" easing="inout" pulse="true" condition="Skin.HasSetting(BackgroundAnimation)">Conditional</animation>
                <animation effect="fade" start="0" end="100" delay="0" time="1200">Visible</animation>
            </control>

            <!-- fullscreen trailer window -->
            <control type="group" id="56399">
                <visible>$EXP[IsPlayingUnrecognizedContent] + $EXP[IsCurrentWidgetSpotlight]</visible>
                <include>FullscreenDimensions</include>
                <control type="videowindow"/>
            </control>
            <!--fullscreen trailer fade in -->
            <control type="image">
                <visible>Control.IsVisible(56399)</visible>
                <include>FullscreenDimensions</include>
                <colordiffuse>$VAR[BingiePanelColor]</colordiffuse>
                <texture background="true" border="15">diffuse/bgpanel.png</texture>
                <animation effect="fade" start="100" end="0" delay="0" time="3000">Visible</animation>
                <animation effect="fade" start="50" end="0" delay="0" time="1500">Hidden</animation>
            </control>

            <!-- spotlight overlay -->
            <control type="image">
                <visible>$EXP[IsCurrentWidgetSpotlight]</visible>
                <include>FullscreenDimensions</include>
                <colordiffuse>$VAR[BingiePanelColor]</colordiffuse>
                <texture background="true" border="15">special://home/addons/resource.images.backgroundoverlays.basic/resources/Vignette.png</texture>
            </control>

            <!-- MPAA flag while spotlight playing -->
            <control type="group">
                <include>Dim_On_Menu_Animation</include>
                <visible>!String.IsEmpty(Control.GetLabel(5633398)) + [$EXP[IsCurrentWidgetSpotlight] + [Integer.IsGreater(Container(1508).NumItems,0) | Container(1508).IsUpdating]]</visible>
                <right>-160</right>
                <top>675</top>
                <height>55</height>
                <width>160</width>
                <animation type="VisibleChange">
                <effect type="slide" start="0" end="-160" delay="2000" time="400"/>
                <effect type="fade" start="0" end="100" delay="2000" time="400"/>
                </animation>
                <control type="image">
                    <height>55</height>
                    <width>160</width>
                    <texture background="true" colordiffuse="$INFO[Skin.String(BingieDetailsFlagColor)]">colors/color_white.png</texture>
                </control>
                <control type="label">
                    <left>5</left>
                    <height>55</height>
                    <width>25</width>
                    <align>left</align>
                    <aligny>center</aligny>
                    <font>Reg36</font>
                    <textcolor>white</textcolor>
                    <label>[B]|[/B]</label>
                </control>
                <control type="label" id="5633398">
                    <left>30</left>
                    <height>55</height>
                    <width>130</width>
                    <align>left</align>
                    <font>Reg28</font>
                    <textcolor>white</textcolor>
                    <label>$VAR[GetMPAA]</label>
                </control>
            </control>

            <!-- overlay with big thumb-->
            <include>Bingie_Overlay_Large_Thumb</include>

            <!-- spotlight section -->
            <control type="group">
                <visible>!String.IsEqual(window(home).Property(widgetstyle),landscapewidebox)</visible>
                <width>1920</width>
                <height>525</height>
                <visible>!Skin.HasSetting(BingieHomeDisableFirstRow)</visible>

                <!-- trailer window -->
                <control type="group" id="563340">
                    <visible>$EXP[IsPlayingUnrecognizedContent] + ![$EXP[IsCurrentWidgetSpotlight]]</visible>
                    <top>0</top>
                    <right>0</right>
                    <width>1292</width>
                    <height>720</height>
                    <control type="videowindow">
                        <visible>!$EXP[IsRecognizedVideoContent]</visible>
                    </control>
                    <control type="image">
                        <texture background="true" colordiffuse="$VAR[BingiePanelColor]" border="20">overlays/bingie_corner.png</texture>
                    </control>
                </control>
                <!-- fade and dim videowindow -->
                <control type="image">
                    <visible>Control.IsVisible(563340)</visible>
                    <top>0</top>
                    <right>0</right>
                    <width>1410</width>
                    <height>790</height>
                    <aligny>top</aligny>
                    <aspectratio>scale</aspectratio>
                    <colordiffuse>$VAR[BingiePanelColor]</colordiffuse>
                    <texture background="true" border="15">diffuse/bgpanel.png</texture>
                    <animation type="Conditional" condition="Control.IsVisible(563340) + !$EXP[IsMainMenuOpened]">
                    <effect type="fade" start="100" end="100" time="600"/>
                    <effect type="fade" start="100" end="0" time="1200" delay="800"/>
                    </animation>
                    <animation effect="fade" start="0" end="60" delay="0" time="400" condition="Control.IsVisible(563340) + $EXP[IsMainMenuOpened]">Conditional</animation>
                </control>

                <!-- spotlight image [16:9] -->
                <control type="image">
                    <include>Dim_On_Menu_Animation</include>
                    <visible>!$EXP[IsCurrentWidgetSpotlight] + !Player.HasVideo</visible>
                    <right>0</right>
                    <top>0</top>
                    <texture background="true" diffuse="bingie/bingie_default_spotlight_diffuse.png">$INFO[Control.GetLabel(99004)]</texture>
                    <fadetime>550</fadetime>
                    <width>1688</width>
                    <height>950</height>
                    <aspectratio scalediffuse="true" aligny="top">scale</aspectratio>
                    <animation effect="fade" end="0" time="500">Hidden</animation>
                    <animation effect="fade" start="0" end="100" time="1200">Visible</animation>
                </control>

                <include>Spotlight_Buttons</include>

                <!-- bingie details -->
                <control type="grouplist">
                    <include>Dim_On_Menu_Animation</include>
                    <width>1500</width>
                    <include condition="!Skin.HasSetting(EnhancedHome_Circular)">No_Circular_Left</include>
                    <left>65</left>
                    <posy>22</posy>
                    <height>600</height>
                    <orientation>vertical</orientation>
                    <usecontrolcoords>true</usecontrolcoords>
                    <itemgap>10</itemgap>
                    <!-- adjust for episode info -->
                    <animation effect="slide" start="0" end="0,75" time="0" condition="Control.IsVisible(588688) + !Control.IsVisible(5444322) + !$EXP[IsCurrentWidgetSpotlight]">Conditional</animation>

                    <!-- clearlogo [800x310] -->
                    <control type="image" id="29475">
                        <height>186</height>
                        <width>480</width>
                        <align>left</align>
                        <fadetime>350</fadetime>
                        <aspectratio align="left" aligny="center">keep</aspectratio>
                        <texture background="true" fallback="colors/color_transparent.png">$VAR[BingieInfoClearlogo]</texture>
                        <!-- adjust for spotlight -->
                        <animation effect="slide" start="0" end="0,137" time="0" condition="$EXP[IsCurrentWidgetSpotlight]">Conditional</animation>
                    </control>
                    <!-- text title -->
                    <control type="textbox" id="29476">
                        <visible>String.EndsWith(Control.GetLabel(29475),color_transparent.png)</visible>
                        <top>-143</top>
                        <height max="175">auto</height>
                        <width max="815">auto</width>
                        <font>Reg48</font>
                        <align>left</align>
                        <aligny>center</aligny>
                        <shadowcolor>$INFO[Skin.String(ViewDetailsTextShadowColor)]</shadowcolor>
                        <textcolor>$INFO[Skin.String(ViewDetailsTextColor)]</textcolor>
                        <label>$VAR[BingieInfoLabel]</label>
                        <animation effect="fade" time="200">Visible</animation>
                        <!-- adjust for spotlight -->
                        <animation effect="slide" start="0" end="0,155" time="0" condition="$EXP[IsCurrentWidgetSpotlight]">Conditional</animation>
                        <!-- adjust for genres -->
                        <animation type="Conditional" condition="[Container.Content(genres) | String.IsEqual(ListItem.DBTYPE,genre)] | $EXP[IsCategoryDBType]">
                            <effect type="slide" start="0,0" end="0,170" time="0"/>
                            <effect type="zoom" end="130" time="0"/>
                        </animation>
                    </control>

                    <!-- spotlight row details -->
                    <control type="group">
                        <visible>!$EXP[IsCurrentWidgetSpotlight] + !Control.IsVisible(56399) + ![Control.IsVisible(588688) + Skin.HasSetting(HideRowDetailsEpisodes)]</visible>
                        <posy>-7</posy>
                        <width>1000</width>
                        <height>40</height>
                        <include>Default_Visible_Fade</include>
                        <include>SpotlightRowDetails</include>
                    </control>

                    <!-- bingie sublabel -->
                    <control type="label" id="56338">
                        <visible>!$EXP[IsEpisodeDBType] + !String.IsEmpty(Control.GetLabel(56338))</visible>
                        <height>30</height>
                        <width max="625">auto</width>
                        <font>Reg28</font>
                        <align>left</align>
                        <aligny>center</aligny>
                        <textcolor>$INFO[Skin.String(BingieSubLabelTextColor)]</textcolor>
                        <label>$VAR[BingieSublabel]</label>
                        <!-- adjust for spotlight -->
                        <animation effect="slide" start="0" end="0,225" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29475)">Conditional</animation>
                        <animation effect="slide" start="0" end="0,115" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29476)">Conditional</animation>
                        <include>Default_Visible_Fade</include>
                    </control>

                    <!-- episode info -->
                    <control type="grouplist" id="588688">
                        <visible>$EXP[IsEpisodeDBType]</visible>
                        <orientation>vertical</orientation>
                        <height>125</height>
                        <width>1000</width>
                        <include>Default_Visible_Fade</include>
                        <animation effect="slide" start="0" end="0,225" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29475)">Conditional</animation>
                        <animation effect="slide" start="0" end="0,115" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29476)">Conditional</animation>
                        <!-- next episode label -->
                        <control type="label">
                            <visible>Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                            <height>30</height>
                            <width>1000</width>
                            <font>Reg26</font>
                            <align>left</align>
                            <aligny>center</aligny>
                            <textcolor>$INFO[Skin.String(ViewDetailsTextColor)]</textcolor>
                            <label>[CAPITALIZE]$LOCALIZE[31212][/CAPITALIZE]</label>
                        </control>
                        <!-- season x episode x & title -->
                        <control type="label">
                            <height>85</height>
                            <width>1000</width>
                            <font>Reg36</font>
                            <align>left</align>
                            <aligny>center</aligny>
                            <textcolor>$INFO[Skin.String(ViewDetailsTextColor)]</textcolor>
                            <label>$VAR[BingieEpisodeInfoLabel]</label>
                        </control>
                        <!-- progress bar & continue label -->
                        <control type="group">
                            <visible>!Integer.IsEqual(ListItem.PercentPlayed,0)</visible>
                            <width>1000</width>
                            <height>40</height>
                            <aligny>center</aligny>
                            <!-- Progress bar -->
                            <control type="progress">
                                <description>progress bar</description>
                                <top>12</top>
                                <width>185</width>
                                <height>8</height>
                                <texturebg colordiffuse="cc515151" border="0">colors/color_white.png</texturebg>
                                <lefttexture/>
                                <midtexture colordiffuse="$INFO[Skin.String(OSDProgressBarColor)]" border="4">colors/color_white.png</midtexture>
                                <righttexture/>
                                <info>ListItem.PercentPlayed</info>
                            </control>
                            <!--continue watching -->
                            <control type="label">
                                <font>Reg24</font>
                                <left>200</left>
                                <height>25</height>
                                <width>600</width>
                                <textcolor>$INFO[Skin.String(ViewDetailsTextColor)]</textcolor>
                                <label>[LOWERCASE]$LOCALIZE[31535][/LOWERCASE]</label>
                            </control>
                        </control>
                    </control>
                    
                    <!-- plot -->
                    <control type="textbox" id="5444322">
                        <visible>![$EXP[IsEpisodeDBType] +
                            [!Integer.IsEqual(ListItem.PercentPlayed,0) | ![!Integer.IsEqual(ListItem.PlayCount,0) + !ListItem.IsResumable]] +
                            !Skin.HasSetting(ShowEpisodesPlotAll)]</visible>
                        <include condition="Skin.HasSetting(EnlargeBingiePlot)">Alt_Bingie_Plot_Height</include>
                        <height min="50" max="138">auto</height>
                        <width max="620">auto</width>
                        <textcolor>$VAR[BingiePlotTextColor]</textcolor>
                        <align>justify</align>
                        <font>Reg28</font>
                        <label>$VAR[BingiePlot]</label>
                        <!-- spotlight adjustments -->
                        <animation effect="slide" start="0" end="0,230" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29475)">Conditional</animation>
                        <animation effect="slide" start="0" end="0,115" time="0" condition="$EXP[IsCurrentWidgetSpotlight] + Control.IsVisible(29476)">Conditional</animation>
                        <animation effect="fade" start="100" end="0" time="400" condition="!Skin.HasSetting(ShowPlotInBingieSpotlight) + $EXP[IsCurrentWidgetSpotlight] + [$EXP[IsPlayingUnrecognizedContent] | String.IsEmpty(Window(Home).Property(SpotlightFirstPlayDone))]">Conditional</animation>
                        <include>Default_Visible_Fade</include>
                    </control>

                    <!-- additional info -->
                    <control type="group">
                        <top>10</top>
                        <visible>!Control.IsVisible(588688) + !$EXP[IsCurrentWidgetSpotlight] + !$EXP[IsCategoryDBType]</visible>
                        <include condition="!Skin.HasSetting(DisableBingieMoreDetails)">Bingie_Additional_Info</include>
                    </control>
                </control>

                <!-- Footer -->
                <include condition="!Skin.HasSetting(NoFooterBarOnHome)">Bingie_Footer</include>
                <!-- Touch Menu Buttons -->
                <include condition="Skin.HasSetting(EnableTouchSupport)">Bingie_Touch_Support</include>
            </control>

            <!-- all widgets -->
            <control type="grouplist" id="77777">
                <animation time="300" effect="fade" start="100" end="20" reversible="true" easing="inout" condition="$EXP[IsMainMenuOpened] + !$EXP[IsPlayingRecognizedContent]">Conditional</animation>
                <!-- adjustments for scrollbar & zoom effect -->
                <animation effect="slide" end="10" condition="Skin.HasSetting(WidgetsZoomFocus)">Conditional</animation>
                <posx>0</posx>
                <include condition="Skin.HasSetting(BingieHomeDisableFirstRow)">Bingie_Alt_Height_No_Spotlight</include>
                <top>605</top>
                <include condition="Skin.HasSetting(EnableFixedFocusWidgets) + [Window.IsActive(Home) | [$EXP[IsBingieHubsActive] + Skin.HasSetting(LockHubWidgets)]]">Fixed_Focus_Bottom</include>
                <bottom>0</bottom>
                <include condition="Skin.HasSetting(EnableFixedFocusWidgets) + [Window.IsActive(Home) | [$EXP[IsBingieHubsActive] + Skin.HasSetting(LockHubWidgets)]]">Fixed_Focus_Itemgap</include>
                <itemgap>2</itemgap>
                <pagecontrol>317</pagecontrol>
                <width>100%</width>

                <onfocus condition="!String.IsEqual(Window(Home).Property(CurrentWidgetID),$PARAM[widgetid])">SetProperty(PrevWidgetID,$INFO[Window(Home).Property(CurrentWidgetID)],Home)</onfocus>
                <onfocus condition="!String.IsEqual(Window(Home).Property(CurrentWidgetID),$PARAM[widgetid])">SetProperty(PrevWidgetPos,$INFO[Window(Home).Property(CurrentWidgetPos)],Home)</onfocus>
                <onfocus>SetProperty(CurrentWidgetID,$PARAM[widgetid],Home)</onfocus>
                <onfocus condition="!String.IsEqual(Window(Home).Property(CurrentWidgetID),$PARAM[widgetid])">SetProperty(CurrentWidgetPos,$INFO[Container(77777).CurrentItem],Home)</onfocus>


                <ondown>77777</ondown>
                <onup>77777</onup>
                <onback condition="$EXP[IsPlayingRecognizedContent]">SetFocus(509)</onback>
                <onback condition="!$EXP[IsPlayingRecognizedContent] + $EXP[IsBingieViewsActive]">900</onback>
                <onleft condition="!Skin.HasSetting(EnhancedHome_Circular) + $EXP[IsBingieViewsActive] + $EXP[IsPlayingUnrecognizedContent]">SetProperty(KeepPlayingTrailer,1,Home)</onleft>
                <onleft condition="!Skin.HasSetting(EnhancedHome_Circular) | !$EXP[IsBingieViewsActive]">900</onleft>
                <include content="BingieSpotlightWidget" condition="[Window.IsActive(Home) | $EXP[IsBingieHubsActive]] + !Skin.HasSetting(BingieHomeDisableFirstRow) + !Skin.HasSetting(DisableSpotlightContent)">
                    <param name="widgetid" value="1508"/>
                </include>
                <include condition="Window.IsActive(Home)">skinshortcuts-template-Widgets</include>
                <include condition="Window.IsActive(1110)">bingie_items_tvshows</include>
                <include condition="Window.IsActive(1111)">bingie_items_movies</include>
                <include condition="Window.IsActive(1112)">bingie_items_new</include>
                <include condition="Window.IsActive(1113)">bingie_items_myhub</include>
                <include condition="Window.IsActive(1114)">bingie_items_mylist</include>
                <include condition="Window.IsActive(1115)">bingie_items_mycustom</include>
            </control>

            <!--Fixed Frame -->
            <include condition="Skin.HasSetting(EnableFixedFrameWidgets) + Skin.HasSetting(EnableFixedFocusWidgets) + $EXP[IsSupportedFixedFrameLayout] + [[Window.IsActive(Home) | $EXP[IsBingieListsActive]] | [[$EXP[IsBingieHubsActive]] + Skin.HasSetting(LockHubWidgets)]]">Bingie_Screens_Fixed_Focus_Frame</include>

            <!-- busy image while spotlight widget loading -->
            <control type="grouplist">
                <visible>$EXP[IsCurrentWidgetSpotlight] + Container(1508).IsUpdating</visible>
                <orientation>horizontal</orientation>
                <include condition="!Skin.HasSetting(EnhancedHome_Circular)">No_Circular_Left</include>
                <left>65</left>
                <top>23</top>
                <width>500</width>
                <height>60</height>
                <itemgap>20</itemgap>
                <control type="multiimage">
                    <width>25</width>
                    <height>25</height>
                    <aspectratio>keep</aspectratio>
                    <imagepath>$VAR[WidgetBusySpinnerPath]</imagepath>
                    <timeperimage>85</timeperimage>
                    <colordiffuse>$INFO[Skin.String(WidgetSpinnerTexture.Color)]</colordiffuse>
                    <fadetime>0</fadetime>
                </control>
                <control type="label">
                    <height>60</height>
                    <aligny>top</aligny>
                    <width>420</width>
                    <label>[B]$LOCALIZE[31185]...[/B]</label>
                    <font>Light22</font>
                    <textcolor>$INFO[Skin.String(ViewDetailsTextColor)]</textcolor>
                </control>
            </control>

            <!-- gradient overlays on widgets -->
            <control type="group">
                <visible>!$EXP[IsCurrentWidgetSpotlight] + !Control.IsVisible(56399)</visible>
                <include condition="Skin.HasSetting(EnhancedHome_Circular)">Bingie_Right_Gradient</include>
                <include condition="!Skin.HasSetting(EnhancedHome_Circular)">Bingie_Left_Gradient</include>
            </control>

            <control type="scrollbar" id="317">
                <visible>Skin.HasSetting(EnableTouchSupport) | Skin.HasSetting(alwaysShowScrollbars)</visible>
                <width>15</width>
                <orientation>vertical</orientation>
                <include condition="Skin.HasSetting(BingieHomeDisableFirstRow)">Bingie_Alt_Height_No_Spotlight</include>
                <top>620</top>
                <right>0</right>
                <bottom>7</bottom>
                <onleft>77777</onleft>
                <onright>900</onright>
                <showonepage>false</showonepage>
            </control>
        </control>

        <!-- Header -->
		<include>Header</include>

        <!-- Side Menu -->
        <include>BingieSideBladeMainMenu</include>
    </include>
</includes>